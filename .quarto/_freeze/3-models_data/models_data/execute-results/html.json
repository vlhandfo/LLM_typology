{
  "hash": "9475c83cc4e218d78da313e7dca8c05f",
  "result": {
    "engine": "jupyter",
    "markdown": "---\nexecute: \n  echo: false\n---\n\n\n\n\n# Models and Data\n\n\n## The HPLT Project\n\nThe High-Performance Language Technology (HPLT) project seeks to combine large amounts of data and tools for high-performance computing to produce and make high-quality language models available @de-gibert-etal-2024-new-massive. It provides large datasets for a variety of languages and base models trained on them. *These datasets and models are the foundation of our experiments.*\n\n**TODO**: write about them pretraining the models and providing intermediate checkpoints\n\n## Evaluation Data\n<!-- \\citep[UD;][]{nivre-etal-2017-universal, nivre-etal-2020-universal} -->\nTo evaluate each language model, we use the Universal Dependencies 2.14 treebanks (UD; @nivre-etal-2017-universal, -@nivre-etal-2020-universal). The treebanks are formatted in the same way which allows for simpler comparison of the results of the cross-linguistic experiments. Likewise, as the treebanks include text from different genres, the data covers a broad range of language use. \n\nThe treebanks for the selected languages vary in size, both in terms of number of words and sentences. To ensure the comparability of the results, subsets of each partition of the treebanks were shuffled and normalized by the number of word forms. While the number of sentences in the result subsets still varies, this step makes sure that each model encounters roughly the same number of tokens during the fine-tuning and evaluation steps.\n\n## Language and Feature Selection\n\nThe languages for this study were chosen based on two criteria: the availability of resources and linguistic diversity. Available resources include the size of the dataset from the HPLT project and the treebanks from Universal Dependencies, as well as the typological features available in the databases (see @sec-databases). Linguistic diversity was determined by examining typological, genealogical, and geographic differences available in WALS, specifically the [WALS 100-sample](https://wals.info/chapter/s1#3.1._The_WALS_samples). \n\nThe features were selected from WALS and Grambank, and those from the WALS database were manually coverted to the Question: Binary Encoding format of the Grambank features (e.g., \"81A: Order of Subject, Object and Verb\" from WALS became *WALS81A: Is the dominant word order in a transitive clause SVO?*)\n\nAfter identifying relevant morphosyntactic features, the set was filtered, removing features with no variance and/or missing values for any selected language. Then, each feature was categorized into a group according to the type of feature it is related to. The largest group, *marking*, relate to grammatical phenomena which morphologically indicated on words. *Order* are features related to aspects of word order and syntax. Features in the group *formation* represent different methods for creating words and clauses. The groups *determiners* and *lexicon* correspond to the types of determiners and words, respectively. Lastly, *case* pertains to morphological marking of cases. A complete list of selected features is shown in @tbl-all-features.\n\nWith the features and language selected, it was straight-forward to combine all of the values to create a binary vector representation for each language. @fig-pca-langs shows the PCA of the languages according to these vector representations.\n\n:::{#fig-pca-langs}\n\n::: {#ce8de148 .cell execution_count=1}\n\n::: {.cell-output .cell-output-display}\n```{=html}\n\n<style>\n  #altair-viz-15a2f4f488e14c58be8f058d7204b6b9.vega-embed {\n    width: 100%;\n    display: flex;\n  }\n\n  #altair-viz-15a2f4f488e14c58be8f058d7204b6b9.vega-embed details,\n  #altair-viz-15a2f4f488e14c58be8f058d7204b6b9.vega-embed details summary {\n    position: relative;\n  }\n</style>\n<div id=\"altair-viz-15a2f4f488e14c58be8f058d7204b6b9\"></div>\n<script type=\"text/javascript\">\n  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n  (function(spec, embedOpt){\n    let outputDiv = document.currentScript.previousElementSibling;\n    if (outputDiv.id !== \"altair-viz-15a2f4f488e14c58be8f058d7204b6b9\") {\n      outputDiv = document.getElementById(\"altair-viz-15a2f4f488e14c58be8f058d7204b6b9\");\n    }\n    const paths = {\n      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext\",\n      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n    };\n\n    function maybeLoadScript(lib, version) {\n      var key = `${lib.replace(\"-\", \"\")}_version`;\n      return (VEGA_DEBUG[key] == version) ?\n        Promise.resolve(paths[lib]) :\n        new Promise(function(resolve, reject) {\n          var s = document.createElement('script');\n          document.getElementsByTagName(\"head\")[0].appendChild(s);\n          s.async = true;\n          s.onload = () => {\n            VEGA_DEBUG[key] = version;\n            return resolve(paths[lib]);\n          };\n          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n          s.src = paths[lib];\n        });\n    }\n\n    function showError(err) {\n      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n      throw err;\n    }\n\n    function displayChart(vegaEmbed) {\n      vegaEmbed(outputDiv, spec, embedOpt)\n        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n    }\n\n    if(typeof define === \"function\" && define.amd) {\n      requirejs.config({paths});\n      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n    } else {\n      maybeLoadScript(\"vega\", \"5\")\n        .then(() => maybeLoadScript(\"vega-lite\", \"5.20.1\"))\n        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n        .catch(showError)\n        .then(() => displayChart(vegaEmbed));\n    }\n  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}}, \"data\": {\"name\": \"data-d61a97ccdcb94a665895d851e2dac2de\"}, \"mark\": {\"type\": \"circle\", \"fillOpacity\": 1, \"size\": 50}, \"encoding\": {\"color\": {\"field\": \"Language\", \"scale\": {\"scheme\": \"category20\"}, \"type\": \"nominal\"}, \"tooltip\": [{\"field\": \"Language\", \"type\": \"nominal\"}], \"x\": {\"axis\": {\"labels\": false, \"title\": \"\"}, \"field\": \"x\", \"type\": \"quantitative\"}, \"y\": {\"axis\": {\"labels\": false, \"title\": \"\"}, \"field\": \"y\", \"type\": \"quantitative\"}}, \"height\": 350, \"title\": \"PCA of Language Features\", \"width\": 350, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.20.1.json\", \"datasets\": {\"data-d61a97ccdcb94a665895d851e2dac2de\": [{\"x\": 2.4923757844818564, \"y\": 1.1058132062802086, \"Language\": \"Hebrew\"}, {\"x\": 2.0793745147852536, \"y\": -1.3710305443714264, \"Language\": \"Indonesian\"}, {\"x\": -2.8191375046736575, \"y\": -0.6631654459462123, \"Language\": \"Korean\"}, {\"x\": -0.15711811244745852, \"y\": -2.810490797468748, \"Language\": \"Chinese\"}, {\"x\": 0.9112100710313085, \"y\": 1.783714062238656, \"Language\": \"Greek\"}, {\"x\": -2.7385238035784885, \"y\": 0.7705060006570823, \"Language\": \"Turkish\"}, {\"x\": -3.0321807406295127, \"y\": -0.720465145158066, \"Language\": \"Japanese\"}, {\"x\": 0.4432530861482329, \"y\": 1.701162005651105, \"Language\": \"Russian\"}, {\"x\": 1.6097109977173907, \"y\": 0.8773364310069025, \"Language\": \"English\"}, {\"x\": 1.9783528597154485, \"y\": -2.4035002882797443, \"Language\": \"Vietnamese\"}, {\"x\": -0.7673171525503748, \"y\": 1.7301205153902453, \"Language\": \"Persian\"}]}}, {\"mode\": \"vega-lite\"});\n</script>\n```\n:::\n:::\n\n\nPCA of the selected languages according to their feature values.\n:::\n\n### Selected Features\n\n:::{#tbl-all-features tbl-cap-location=bottom}\n\n::: {#471d6ce8 .cell execution_count=2}\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<table id=\"itables_c468ea43_6b93_4be6_88af_a43ee6d15a1b\" class=\"compact\" data-quarto-disable-processing=\"true\" style=\"table-layout:auto;width:auto;margin:auto;caption-side:bottom\">\n<thead>\n    <tr style=\"text-align: right;\">\n      \n      <th>Feature</th>\n      <th>Name</th>\n      <th>Group</th>\n    </tr>\n  </thead><tbody><tr>\n<td style=\"vertical-align:middle; text-align:left\">\n<div style=\"float:left; margin-right: 10px;\">\n<a href=https://mwouts.github.io/itables/><svg class=\"main-svg\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\nwidth=\"64\" viewBox=\"0 0 500 400\" style=\"font-family: 'Droid Sans', sans-serif;\">\n    <g style=\"fill:#d9d7fc\">\n        <path d=\"M100,400H500V357H100Z\" />\n        <path d=\"M100,300H400V257H100Z\" />\n        <path d=\"M0,200H400V157H0Z\" />\n        <path d=\"M100,100H500V57H100Z\" />\n        <path d=\"M100,350H500V307H100Z\" />\n        <path d=\"M100,250H400V207H100Z\" />\n        <path d=\"M0,150H400V107H0Z\" />\n        <path d=\"M100,50H500V7H100Z\" />\n    </g>\n    <g style=\"fill:#1a1366;stroke:#1a1366;\">\n   <rect x=\"100\" y=\"7\" width=\"400\" height=\"43\">\n    <animate\n      attributeName=\"width\"\n      values=\"0;400;0\"\n      dur=\"5s\"\n      repeatCount=\"indefinite\" />\n      <animate\n      attributeName=\"x\"\n      values=\"100;100;500\"\n      dur=\"5s\"\n      repeatCount=\"indefinite\" />\n  </rect>\n        <rect x=\"0\" y=\"107\" width=\"400\" height=\"43\">\n    <animate\n      attributeName=\"width\"\n      values=\"0;400;0\"\n      dur=\"3.5s\"\n      repeatCount=\"indefinite\" />\n    <animate\n      attributeName=\"x\"\n      values=\"0;0;400\"\n      dur=\"3.5s\"\n      repeatCount=\"indefinite\" />\n  </rect>\n        <rect x=\"100\" y=\"207\" width=\"300\" height=\"43\">\n    <animate\n      attributeName=\"width\"\n      values=\"0;300;0\"\n      dur=\"3s\"\n      repeatCount=\"indefinite\" />\n    <animate\n      attributeName=\"x\"\n      values=\"100;100;400\"\n      dur=\"3s\"\n      repeatCount=\"indefinite\" />\n  </rect>\n        <rect x=\"100\" y=\"307\" width=\"400\" height=\"43\">\n    <animate\n      attributeName=\"width\"\n      values=\"0;400;0\"\n      dur=\"4s\"\n      repeatCount=\"indefinite\" />\n      <animate\n      attributeName=\"x\"\n      values=\"100;100;500\"\n      dur=\"4s\"\n      repeatCount=\"indefinite\" />\n  </rect>\n        <g style=\"fill:transparent;stroke-width:8; stroke-linejoin:round\" rx=\"5\">\n            <g transform=\"translate(45 50) rotate(-45)\">\n                <circle r=\"33\" cx=\"0\" cy=\"0\" />\n                <rect x=\"-8\" y=\"32\" width=\"16\" height=\"30\" />\n            </g>\n\n            <g transform=\"translate(450 152)\">\n                <polyline points=\"-15,-20 -35,-20 -35,40 25,40 25,20\" />\n                <rect x=\"-15\" y=\"-40\" width=\"60\" height=\"60\" />\n            </g>\n\n            <g transform=\"translate(50 352)\">\n                <polygon points=\"-35,-5 0,-40 35,-5\" />\n                <polygon points=\"-35,10 0,45 35,10\" />\n            </g>\n\n            <g transform=\"translate(75 250)\">\n                <polyline points=\"-30,30 -60,0 -30,-30\" />\n                <polyline points=\"0,30 -30,0 0,-30\" />\n            </g>\n\n            <g transform=\"translate(425 250) rotate(180)\">\n                <polyline points=\"-30,30 -60,0 -30,-30\" />\n                <polyline points=\"0,30 -30,0 0,-30\" />\n            </g>\n        </g>\n    </g>\n</svg>\n</a>\n</div>\n<div>\nLoading ITables v2.2.1 from the internet...\n(need <a href=https://mwouts.github.io/itables/troubleshooting.html>help</a>?)</td>\n</div>\n</tr></tbody>\n\n</table>\n<link href=\"https://www.unpkg.com/dt_for_itables@2.0.13/dt_bundle.css\" rel=\"stylesheet\">\n<script type=\"module\">\n    import {DataTable, jQuery as $} from 'https://www.unpkg.com/dt_for_itables@2.0.13/dt_bundle.js';\n\n    document.querySelectorAll(\"#itables_c468ea43_6b93_4be6_88af_a43ee6d15a1b:not(.dataTable)\").forEach(table => {\n        // Define the table data\n        const data = [[\"GB042\", \"Is there productive overt morphological singular marking on nouns?\", \"marking\"], [\"GB043\", \"Is there productive morphological dual marking on nouns?\", \"marking\"], [\"GB044\", \"Is there productive morphological plural marking on nouns?\", \"marking\"], [\"GB082\", \"Is there overt morphological marking of present tense on verbs?\", \"marking\"], [\"GB083\", \"Is there overt morphological marking on the verb dedicated to past tense?\", \"marking\"], [\"GB084\", \"Is there overt morphological marking on the verb dedicated to future tense?\", \"marking\"], [\"GB086\", \"Is a morphological distinction between perfective and imperfective aspect available on verbs?\", \"marking\"], [\"GB089\", \"Can the S argument be indexed by a suffix/enclitic on the verb in the simple main clause?\", \"marking\"], [\"GB090\", \"Can the S argument be indexed by a prefix/proclitic on the verb in the simple main clause?\", \"marking\"], [\"GB091\", \"Can the A argument be indexed by a suffix/enclitic on the verb in the simple main clause?\", \"marking\"], [\"GB092\", \"Can the A argument be indexed by a prefix/proclitic on the verb in the simple main clause?\", \"marking\"], [\"GB093\", \"Can the P argument be indexed by a suffix/enclitic on the verb in the simple main clause?\", \"marking\"], [\"GB094\", \"Can the P argument be indexed by a prefix/proclitic on the verb in the simple main clause?\", \"marking\"], [\"GB095\", \"Are variations in marking strategies of core participants based on TAM distinctions?\", \"marking\"], [\"GB098\", \"Are variations in marking strategies of core participants based on person distinctions?\", \"marking\"], [\"GB103\", \"Is there a benefactive applicative marker on the verb (including indexing)?\", \"marking\"], [\"GB107\", \"Can standard negation be marked by an affix, clitic or modification of the verb?\", \"marking\"], [\"GB147\", \"Is there a morphological passive marked on the lexical verb?\", \"marking\"], [\"GB047\", \"Is there a productive morphological pattern for deriving an action/state noun from a verb?\", \"formation\"], [\"GB048\", \"Is there a productive morphological pattern for deriving an agent noun from a verb?\", \"formation\"], [\"GB049\", \"Is there a productive morphological pattern for deriving an object noun from a verb?\", \"formation\"], [\"GB081\", \"Is there productive infixation in verbs?\", \"formation\"], [\"GB122\", \"Is verb compounding a regular process?\", \"formation\"], [\"GB124\", \"Is incorporation of nouns into verbs a productive intransitivizing process?\", \"formation\"], [\"GB150\", \"Is there clause chaining?\", \"formation\"], [\"GB020\", \"Are there definite or specific articles?\", \"determiners\"], [\"GB022\", \"Are there prenominal articles?\", \"determiners\"], [\"GB023\", \"Are there postnominal articles?\", \"determiners\"], [\"GB035\", \"Are there three or more distance contrasts in demonstratives?\", \"determiners\"], [\"GB037\", \"Do demonstratives show a visible-nonvisible distinction?\", \"determiners\"], [\"GB057\", \"Are there numeral classifiers?\", \"determiners\"], [\"GB070\", \"Are there morphological cases for non-pronominal core arguments (i.e. S/A/P)?\", \"case\"], [\"GB071\", \"Are there morphological cases for pronominal core arguments (i.e. S/A/P)?\", \"case\"], [\"GB072\", \"Are there morphological cases for oblique non-pronominal NPs (i.e. not S/A/P)?\", \"case\"], [\"GB073\", \"Are there morphological cases for independent oblique personal pronominal arguments (i.e. not S/A/P)?\", \"case\"], [\"GB074\", \"Are there prepositions?\", \"lexicon\"], [\"GB075\", \"Are there postpositions?\", \"lexicon\"], [\"GB117\", \"Is there a copula for predicate nominals?\", \"lexicon\"], [\"GB126\", \"Is there an existential verb?\", \"lexicon\"], [\"GB030\", \"Is there a gender distinction in independent 3rd person pronouns?\", \"lexicon\"], [\"GB132\", \"Is a pragmatically unmarked constituent order verb-medial for transitive clauses?\", \"order\"], [\"GB133\", \"Is a pragmatically unmarked constituent order verb-final for transitive clauses?\", \"order\"], [\"WALS81A\", \"Is the dominant word order in a transitive clause SVO?\", \"order\"], [\"WALS83A\", \"Is the dominant word order of lexical object and verb VO?\", \"order\"], [\"WALS85A\", \"Are prepositions the dominant type of adposition with a noun phrase?\", \"order\"], [\"WALS86A\", \"Is the dominant order in a genitive noun phrase NGen?\", \"order\"], [\"WALS87A\", \"Is the dominant order of modifying adjective and noun AdjN?\", \"order\"], [\"WALS88A\", \"Is the dominant order of demonstrative and noun DemN?\", \"order\"], [\"WALS90A\", \"Does a relative clause predominatly follow a noun?\", \"order\"], [\"WALS92A\", \"Does a question particle predominatly come at the end of a sentence?\", \"order\"], [\"WALS93A\", \"Is the position of interrogative phrases obligatory initial in content questions?\", \"order\"], [\"WALS95A\", \"Is the dominant word order for object, verb, and adposition VO&Prep?\", \"order\"], [\"WALS96A\", \"Is the dominant word order for object, verb, and relative clause VO&NRel?\", \"order\"], [\"WALS97A\", \"Is the dominant word order for object, verb, and adjective VO&NAdj?\", \"order\"], [\"WALS143A\", \"Does clausal negation predominantly precede the verb?\", \"order\"], [\"WALS144A\", \"Is the order of negation predominantly SNegVO?\", \"order\"]];\n\n        // Define the dt_args\n        let dt_args = {\"layout\": {\"topStart\": \"pageLength\", \"topEnd\": \"search\", \"bottomStart\": \"info\", \"bottomEnd\": \"paging\"}, \"order\": [], \"warn_on_selected_rows_not_rendered\": true};\n        dt_args[\"data\"] = data;\n\n        \n        new DataTable(table, dt_args);\n    });\n</script>\n```\n:::\n:::\n\n\nAn overview of all selected features and assigned group. The prefix GB indicates a feature from Grambank, and WALS is the adapted feature from the WALS database.\n:::\n\n",
    "supporting": [
      "models_data_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}